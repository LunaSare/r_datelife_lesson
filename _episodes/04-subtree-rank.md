---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 04-subtree-rank.md in _episodes_rmd/
source: Rmd
title: "Getting an induced subtree of all taxa within a taxonomic rank"
teaching: 5
exercises: 5
questions:
- "How do I do this?"
objectives:
- "Learn sapply"
- "Use datelife"
keypoints:
- "..."
---


### Get
We have implemented a function in `datelife` to extract all taxa of a given rank. It is also sligthly faster.


~~~
amphibia_families <- datelife::get_ott_children(ott_ids = resolved_names["Amphibia",]$ott_id, ott_rank = "family")
~~~
{: .language-r}
Now, get the subtree of families only.

~~~
amphibia_families_subtree <- rotl::tol_induced_subtree(amphibia_families$Amphibia$ott_id)
~~~
{: .language-r}

~~~
amphibia_families_subtree
~~~
{: .language-r}


Phylogenetic tree with 61 tips and 58 internal nodes.

Tip labels:
	Ranidae_ott364560, Rhacophoridae_ott432783, Mantellidae_ott38969, Dicroglossidae_ott1081208, Ranixalidae_ott403946, Nyctibatrachidae_ott1081210, ...
Node labels:
	Amphibia ott544595, Batrachia ott471197, Anura ott991547, mrcaott114ott3129, mrcaott114ott37876, mrcaott114ott18818, ...

Rooted; no branch lengths.


~~~
ape::plot.phylo(amphibia_families_subtree, cex = 0.5)
~~~
{: .language-r}

<img src="../fig/rmd-unnamed-chunk-4-1.png" title="plot of chunk unnamed-chunk-4" alt="plot of chunk unnamed-chunk-4" width="612" style="display: block; margin: auto;" />
Awesome!
