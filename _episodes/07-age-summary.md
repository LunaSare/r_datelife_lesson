---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 07-age-summary.md in _episodes_rmd/
source: Rmd
title: "Summarizing branch length information"
teaching: 5
exercises: 5
questions:
- "How do I summarize information from different source chronograms?"
- "How do I choose a preferred source chronogram?"
objectives:
- "Understanding the depth of uncertainty around age estimates."
keypoints:
- "Source chronograms have a wide range of variation in age estimates."
---


<br/>
<br/>

Now that we have a collection of chronograms containing our taxa of interest, we can go on to summarize the information in them.

There is no consensus on the best way to do this.

We have implemented two ways of summarizing information from several chronograms into a single one.
The fastest one is using the median of node ages for each node with available information, and then evenly distributing ages across nodes.


~~~
canis_phylo_median <-  datelife::summarize_datelife_result(canis_dr, summary_format = "phylo_median")
~~~
{: .language-r}



~~~
Error in `rownames<-`(`*tmp*`, value = paste0("Chronogram", sequence(nrow(taxon_matrix)))): attempt to set 'rownames' on an object with no dimensions
~~~
{: .error}

<br/>
<br/>

Check that we actually went from a list of matrices to a tree with branch lengths:

~~~
canis_phylo_median
~~~
{: .language-r}



~~~
Error in eval(expr, envir, enclos): object 'canis_phylo_median' not found
~~~
{: .error}

<br/>
<br/>

Good. Now we can plot our chronogram!


~~~
ape::plot.phylo(canis_phylo_median, cex = 1.2)
~~~
{: .language-r}



~~~
Error in ape::plot.phylo(canis_phylo_median, cex = 1.2): object 'canis_phylo_median' not found
~~~
{: .error}



~~~
# Add the time axis:
ape::axisPhylo()
~~~
{: .language-r}



~~~
Error in get("last_plot.phylo", envir = .PlotPhyloEnv): object 'last_plot.phylo' not found
~~~
{: .error}



~~~
# And a little hack to add the axis name:
graphics::mtext("Time (myrs)", side = 1, line = 2, at = max(get("last_plot.phylo",envir = .PlotPhyloEnv)$xx) * 0.5)
~~~
{: .language-r}



~~~
Error in get("last_plot.phylo", envir = .PlotPhyloEnv): object 'last_plot.phylo' not found
~~~
{: .error}

> ## Challenge! Get the other type of summary chronogram
>
> **Hint**: Explore options from the argument **summary_format** in the function `summarize_datelife_result()`
>
> >
> > ## Solution
> > 
> > ~~~
> > canis_phylo_sdm <-  datelife::summarize_datelife_result(canis_dr, summary_format = "phylo_sdm")
> > ~~~
> > {: .language-r}
> > 
> > 
> > 
> > ~~~
> > Error in `rownames<-`(`*tmp*`, value = paste0("Chronogram", sequence(nrow(taxon_matrix)))): attempt to set 'rownames' on an object with no dimensions
> > ~~~
> > {: .error}
> > 
> > ~~~
> > canis_phylo_sdm
> > ~~~
> > {: .language-r}
> > 
> > 
> > 
> > ~~~
> > Error in eval(expr, envir, enclos): object 'canis_phylo_sdm' not found
> > ~~~
> > {: .error}
> > 
> > ~~~
> > ape::plot.phylo(canis_phylo_sdm, cex = 1.2)
> > ~~~
> > {: .language-r}
> > 
> > 
> > 
> > ~~~
> > Error in ape::plot.phylo(canis_phylo_sdm, cex = 1.2): object 'canis_phylo_sdm' not found
> > ~~~
> > {: .error}
> > 
> > 
> > 
> > ~~~
> > ape::axisPhylo()
> > ~~~
> > {: .language-r}
> > 
> > 
> > 
> > ~~~
> > Error in get("last_plot.phylo", envir = .PlotPhyloEnv): object 'last_plot.phylo' not found
> > ~~~
> > {: .error}
> > 
> > 
> > 
> > ~~~
> > graphics::mtext("Time (myrs)", side = 1, line = 2, at = max(get("last_plot.phylo",envir = .PlotPhyloEnv)$xx) * 0.5)
> > ~~~
> > {: .language-r}
> > 
> > 
> > 
> > ~~~
> > Error in get("last_plot.phylo", envir = .PlotPhyloEnv): object 'last_plot.phylo' not found
> > ~~~
> > {: .error}
> >
> > As you can note, the SDM sumary chronogram is slightly older than the median summary chronogram!
> {: .solution}
{: .challenge}

<br/>
<br/>

Finally, give it a try on the web browser of [datelife](http://datelife.org/query/), too.
You can do the same things using a graphical user interface. It is fun!

<br/>
<br/>
